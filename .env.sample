# ========================
# Project-wide Docker configuration
# This file configures docker-compose and services. Copy to .env to use.
# ========================

# Compose project name (prefix for container names)
COMPOSE_PROJECT_NAME=mirza_pro

# Web app port on your machine -> container listens on port 80
# Example: with 8080, open http://localhost:8080
APP_PORT=8080

# Timezone inside containers (list in /usr/share/zoneinfo, e.g., Asia/Tehran)
TZ=Asia/Tehran

# Run containers with your host UID/GID to avoid file permission issues
# On mac/Linux usually 1000 is fine; adjust to your user if needed
HOST_UID=1000
HOST_GID=1000

# Apache document root (normally no change needed)
APACHE_DOCUMENT_ROOT=/var/www/html

# ========================
# PHP Settings
# ========================
PHP_MEMORY_LIMIT=512M           # Maximum PHP memory
PHP_UPLOAD_MAX_FILESIZE=64M     # Max upload size
PHP_POST_MAX_SIZE=64M           # Max post size
PHP_MAX_EXECUTION_TIME=120      # Max script execution time (seconds)
PHP_MAX_INPUT_VARS=3000         # Max input vars

# Opcache settings (recommended ON for performance)
PHP_OPCACHE_ENABLE=1
PHP_OPCACHE_MEMORY_CONSUMPTION=128
PHP_OPCACHE_INTERNED_STRINGS_BUFFER=16
PHP_OPCACHE_MAX_ACCELERATED_FILES=10000
PHP_OPCACHE_VALIDATE_TIMESTAMPS=1
PHP_OPCACHE_REVALIDATE_FREQ=2

# ========================
# Database (MariaDB)
# DB service runs as "db" by default. If you use an external DB,
# change DB_HOST and other values accordingly.
# ========================
DB_IMAGE=mariadb:10.11          # You can switch to mysql:8.0 if you prefer
DB_HOST=db                      # Docker service name (keep as-is unless external DB)
DB_PORT=3306                    # Internal DB port (keep as-is)
DB_PORT_EXTERNAL=3307           # Host port mapping (change if conflicts)

# DB name and user credentials (used for initial DB creation and app connection)
DB_NAME=mirza
DB_USER=mirza
DB_PASSWORD=mirza123
DB_ROOT_PASSWORD=mirzaRoot123

# ========================
# App configuration (read via getenv in config.php)
# ========================
API_KEY=
ADMIN_NUMBER=
DOMAIN_NAME=
BOT_USERNAME=
NEW_MARZBAN=true                # true/false
